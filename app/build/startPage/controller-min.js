"use strict";angular.module("musicApp.startPage",["ngRoute"]).config(["$routeProvider",function(e){e.when("/start",{templateUrl:"startPage/startPage.html"})}]).controller("startPageCtrl",["globalData","$mdDialog","$http","$scope","$timeout",function(e,t,s,o,a){var r=this;r.spotifyApi=e,r.searchText=null,r.progress=0,r.progressUpdate=function(e){r.progress=100*e.loaded/e.total},r.search=function(){$("html,body").animate({scrollTop:$("#results").offset().top},"slow"),e.search_item(r.searchText,r.progressUpdate)},r.focus=function(){document.getElementById("searchBarInput").focus()},r.pressedKey=function(e){13===e.which&&r.search()},o.showView=function(e,s){var a={selectedItem:e,selectedItemInfo:new function(){this.data={},this.call=function(e){200==e.status?this.data=e.data:console.log("Ha ocurrido algun error, status: "+response_status)}},percentLoaded:0},l=o.$new(!0);"artist"==s&&(r.spotifyApi.get_albums_by_artist(e.id,a.selectedItemInfo,r.progressUpdate),l.get_traks_album=function(e){var s={selectedItem:e,selectedItemInfo:new function(){this.data={},this.call=function(e){200==e.status?this.data=e.data:console.log("Ha ocurrido algun error, status: "+response_status)}},percentLoaded:0},a=o.$new(!0);a.info=s,console.log("entreeee"),console.log(r),r.spotifyApi.get_tracks_by_album(e.id,s.selectedItemInfo,r.progressUpdate),t.show({clickOutsideToClose:!0,scope:a,preserveScope:!1,plain:!0,templateUrl:"templates/albumPage.html"})}),l.info=a,console.log("templates/"+s+"Page.html"),t.show({clickOutsideToClose:!0,scope:l,preserveScope:!1,plain:!0,templateUrl:"templates/"+s+"Page.html"})}}]);