angular.module("musicApp.directives").directive("adjustImage",["$timeout",function(a){function e(e,i){function t(a,i){e.isWiderImage=parseFloat(e.image2Draw.width)/parseFloat(e.image2Draw.height)>a/i,e.isHigherImage=parseFloat(e.image2Draw.width)/parseFloat(e.image2Draw.height)<a/i,e.sameRatioImage=!e.isWiderImage&&!e.isHigherImage,e.isWiderImage?(e.marginLeft=(a-parseFloat(e.image2Draw.width)*i/parseFloat(e.image2Draw.height))/2+"px",e.marginTop=0):e.isHigherImage?(e.marginLeft=0,e.marginTop=(i-parseFloat(e.image2Draw.height)*a/parseFloat(e.image2Draw.width))/2*.4+"px"):(e.marginLeft=0,e.marginTop=0)}e.pf=parseFloat,e.imageProperties?(e.image2Draw=e.imageProperties,e.isDefaultImage=!1):(e.isDefaultImage=!0,e.image2Draw=e.defaultImage),a(function(){var a=$(i).find(".adjustImage");t(a[0].offsetWidth,a[0].offsetHeight)})}return{scope:{imageProperties:"=",defaultImage:"=",draggable:"=?"},link:e,templateUrl:"templates/imageAdjust.html"}}]);