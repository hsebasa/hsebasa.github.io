angular.module("musicApp.resources",[]).factory("globalData",["$http",function(t){return{url_api:"https://api.spotify.com",url_token:"https://accounts.spotify.com/api/token",client_id:"c9557aed41e6498f959c37e99a986da5",client_key:"28c47f8c14a74d70ae3133bc928fd020",request:function(s,a,n,e,i,r){t({url:s,method:a||"GET",data:n,headers:e,withCredentials:!1,eventHandlers:{progress:r}}).then(function(t){console.log(i),i.call(t)},function(t){console.log("Something went wrong")})},get_album_by_name:function(t,s,a){new_url=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_url+"&type=album",this.request(url,"GET",{},{},s,a)},get_artist_by_name:function(t,s,a){new_url=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_url+"&type=artist",this.request(url,"GET",{},{},s,a)},get_playlist_by_name:function(t,s,a){new_url=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_url+"&type=playlist",this.request(url,"GET",{},{},s,a)},get_track_by_name:function(t,s,a){new_url=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_url+"&type=track",this.request(url,"GET",{},{},s,a)},albums_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.albums.items:console.log("Ha ocurrido algun error, status: "+response_status)}},tracks_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.tracks.items:console.log("Ha ocurrido algun error, status: "+response_status)}},artists_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.artists.items:console.log("Ha ocurrido algun error, status: "+response_status)}},playlists_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.playlists.items:console.log("Ha ocurrido algun error, status: "+response_status)}},search_item:function(t,s){var a=this;if(0==t.length)return void(this.results={albums:null,artists:null,tracks:null});this.get_album_by_name(t,this.albums_info,s),this.get_artist_by_name(t,this.artists_info,s),this.get_track_by_name(t,this.tracks_info,s),this.results={albums:a.albums_info,artists:a.artists_info,tracks:a.tracks_info}},results:{albums:null,artists:null,tracks:null}}}]);