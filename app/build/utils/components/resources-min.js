angular.module("musicApp.resources",[]).factory("globalData",["$http",function(t){return{url_api:"https://api.spotify.com",url_token:"https://accounts.spotify.com/api/token",client_id:"c9557aed41e6498f959c37e99a986da5",client_key:"28c47f8c14a74d70ae3133bc928fd020",limitSearch:8,offsetAlbums:0,offsetArtists:0,offsetTracks:0,request:function(s,e,a,n,i,r){t({url:s,method:e||"GET",data:a,headers:n,withCredentials:!1,eventHandlers:{progress:r}}).then(function(t){console.log(i),i.call(t)},function(t){console.log("Something went wrong")})},get_albums_by_name:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_name+"&type=album&limit="+this.limitSearch+"&offset="+this.offsetAlbums,this.request(url,"GET",{},{},s,e)},get_album_by_id:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/albums/"+new_name,this.request(url,"GET",{},{},s,e)},get_artists_by_name:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_name+"&type=artist&limit="+this.limitSearch+"&offset="+this.offsetArtists,this.request(url,"GET",{},{},s,e)},get_artist_by_id:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/artists/"+new_name,this.request(url,"GET",{},{},s,e)},get_playlist_by_name:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_name+"&type=playlist&limit="+this.limitSearch,this.request(url,"GET",{},{},s,e)},get_tracks_by_name:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_name+"&type=track&limit="+this.limitSearch+"&offset="+this.offsetTracks,this.request(url,"GET",{},{},s,e)},get_track_by_id:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/tracks/"+new_name,this.request(url,"GET",{},{},s,e)},get_tracks_by_album:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/albums/"+new_name+"/tracks",this.request(url,"GET",{},{},s,e)},get_albums_by_artist:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/artists/"+new_name+"/albums",this.request(url,"GET",{},{},s,e)},get_top_tracks_by_artist:function(t,s,e){new_name=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/artists/"+new_name+"/top-tracks",this.request(url,"GET",{},{},s,e)},albums_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.albums.items:console.log("Ha ocurrido algun error, status: "+response_status)}},tracks_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.tracks.items:console.log("Ha ocurrido algun error, status: "+response_status)}},artists_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.artists.items:console.log("Ha ocurrido algun error, status: "+response_status)}},playlists_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.playlists.items:console.log("Ha ocurrido algun error, status: "+response_status)}},search_item:function(t,s,e){var a=this;null!=t&&0!=t.length&&(this.get_albums_by_name(t,this.albums_info,s),this.get_artists_by_name(t,this.artists_info,s),this.get_tracks_by_name(t,this.tracks_info,s),this.results={albums:a.albums_info,artists:a.artists_info,tracks:a.tracks_info},e&&e(this.results))},results:{albums:{json_data:[]},artists:{json_data:[]},tracks:{json_data:[]}}}}]);