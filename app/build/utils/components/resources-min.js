angular.module("musicApp.resources",[]).factory("globalData",["$http",function(t){return{url_api:"https://api.spotify.com",url_token:"https://accounts.spotify.com/api/token",client_id:"c9557aed41e6498f959c37e99a986da5",client_key:"28c47f8c14a74d70ae3133bc928fd020",request:function(s,a,n,e,o){t({url:s,method:a||"GET",data:n,headers:e,withCredentials:!1}).then(function(t){console.log(o),o.call(t)},function(t){console.log("algo salio mal")})},get_album_by_name:function(t,s){console.log(this),console.log("asd1231231231 "+this.url_token),new_url=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_url+"&type=album",this.request(url,"GET",{},{},s)},get_artist_by_name:function(t,s){new_url=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_url+"&type=artist",this.request(url,"GET",{},{},s)},get_playlist_by_name:function(t,s){new_url=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_url+"&type=playlist",this.request(url,"GET",{},{},s)},get_track_by_name:function(t,s){new_url=encodeURI(t,"UTF-8"),url=this.url_api+"/v1/search?q="+new_url+"&type=track",this.request(url,"GET",{},{},s)},albums_info:new function(){this.json_data={},this.call=function(t){200==t.status?this.json_data=t.data.albums.items:console.log("Ha ocurrido algun error, status: "+response_status)}},tracks_info:new function(){json_data={},this.call=function(t){200==t.status?this.json_data=t.data.tracks.items:console.log("Ha ocurrido algun error, status: "+response_status)}},artists_info:new function(){json_data={},this.call=function(t){200==t.status?this.json_data=t.data.artists.items:console.log("Ha ocurrido algun error, status: "+response_status)}},playlists_info:new function(){json_data={},this.call=function(t){200==t.status?this.json_data=t.data.playlists.items:console.log("Ha ocurrido algun error, status: "+response_status)}},search_item:function(t){console.log("xxx"+this.url_api);var s=this;this.get_album_by_name(t,this.albums_info),this.get_artist_by_name(t,this.artists_info),this.get_track_by_name(t,this.tracks_info),this.results={albums:s.albums_info,artists:s.artists_info,track:s.tracks_info}}}}]);